{
  "metadata": {
    "__comment__": "This was actually a manually created file. And for now metadata isn't used anyway",
    "provider": "strapi.file"
  },
  "schema": {
    "__comment__": "This is the schema that will be compared with the destination",
    "contentTypes": [
      {
        "kind": "collectionType",
        "collectionName": "countries",
        "info": {
          "displayName": "Country",
          "singularName": "country",
          "pluralName": "countries",
          "description": "",
          "name": "Country"
        },
        "options": {
          "draftAndPublish": false,
          "comment": ""
        },
        "pluginOptions": {
          "i18n": {
            "localized": true
          }
        },
        "attributes": {
          "name": {
            "type": "string",
            "required": true,
            "minLength": 3,
            "pluginOptions": {
              "i18n": {
                "localized": true
              }
            }
          },
          "code": {
            "type": "string",
            "maxLength": 3,
            "unique": true,
            "minLength": 2,
            "pluginOptions": {
              "i18n": {
                "localized": true
              }
            }
          }
        }
      }      
    ]
  },
  "data": [
    { "__comment__": "This is where the data will be stored. It will hold at least content and relations, and possibly additional metadata to support relations and id mapping" },
    { "__comment__": "if json stream doesn't support streaming this array we may have to restructure" },
    {
      "type":"content",
      "kind": "collectionType",
      "contentType": "country",
      "attibutes": {
        "name": "Italy",
        "id": 1,
        "someComponent": {
          "type": "component",
          "name": "someComponent",
          "attributes": {
            "thing": "foo"
          }
        },
        "someRepeatableComponent": {
          "type": "repeatableComponent",
          "name": "someComponent",
          "attributes": [
            {
              "thing": "foo"
            }
          ]
        },
        "someDynamicZone": {
          "type": "dynamicZone",
          "components": [
            {
              "type": "component",
              "name": "someOtherComponent",
              "attributes": {
                "thing": "foo"
              }
            }
          ]
        }
      }
    },
    {
      "action":"content",
      "contentType": "country",
      "attibutes": {
        "name": "France",
        "id": 2
      }
    },
    {
      "action":"api::country.country.create",
      "contentType": "country",
      "attibutes": {
        "name": "USA",
        "id": 3,
        "sisterCountry": { "type":"relation", "contentType":"country", "id": 2}
      }
    },
    { "__comment__": "Source can select relations after content type has finished, and then add them with updates:" },
    {
      "action": "update",
      "contentType":"country",
      "id": 2,
      "attributes": {
        "sisterCountry": { "type":"relation", "contentType":"country", "id": 3}
      }
    },
    {
      "action":"content",
      "contentType": "city",
      "attibutes": {
        "name": "Paris",
        "country": { "type":"relation", "contentType":"country", "id": 2},
        "id": 2
      }
    },
    {
      "action":"api::page.page.create",
      "attibutes": {
        "title": "Page title",
        "id": 2
      }
    },
    {
      "action":"api::page.page.createLocalization",
      "attibutes": {
        "locale": "fr-FR",
        "attributes": {
          "title": "Page title in french",
          "id": 3
        }
      }
    }
  ]
}